import{L as ys,_ as _s,C as vs,r as li,c as ws,F as Es,d as nn,e as As,f as Ts,h as Is,j as Ss,p as Ps,u as Rs,k as Cs,l as Ds,S as Ns,i as ks,g as Os,s as Ls,G as js,m as Ms,n as xs,o as bs}from"./index-9ccb475d.js";var ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sn;(function(){var l;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function i(f,o){function u(){}u.prototype=o.prototype,f.F=o.prototype,f.prototype=new u,f.prototype.constructor=f,f.D=function(g,c,d){for(var h=Array(arguments.length-2),G=2;G<arguments.length;G++)h[G-2]=arguments[G];return o.prototype[c].apply(g,h)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}i(a,r),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function y(f,o,u){u||(u=0);const g=Array(16);if(typeof o=="string")for(var c=0;c<16;++c)g[c]=o.charCodeAt(u++)|o.charCodeAt(u++)<<8|o.charCodeAt(u++)<<16|o.charCodeAt(u++)<<24;else for(c=0;c<16;++c)g[c]=o[u++]|o[u++]<<8|o[u++]<<16|o[u++]<<24;o=f.g[0],u=f.g[1],c=f.g[2];let d=f.g[3],h;h=o+(d^u&(c^d))+g[0]+3614090360&4294967295,o=u+(h<<7&4294967295|h>>>25),h=d+(c^o&(u^c))+g[1]+3905402710&4294967295,d=o+(h<<12&4294967295|h>>>20),h=c+(u^d&(o^u))+g[2]+606105819&4294967295,c=d+(h<<17&4294967295|h>>>15),h=u+(o^c&(d^o))+g[3]+3250441966&4294967295,u=c+(h<<22&4294967295|h>>>10),h=o+(d^u&(c^d))+g[4]+4118548399&4294967295,o=u+(h<<7&4294967295|h>>>25),h=d+(c^o&(u^c))+g[5]+1200080426&4294967295,d=o+(h<<12&4294967295|h>>>20),h=c+(u^d&(o^u))+g[6]+2821735955&4294967295,c=d+(h<<17&4294967295|h>>>15),h=u+(o^c&(d^o))+g[7]+4249261313&4294967295,u=c+(h<<22&4294967295|h>>>10),h=o+(d^u&(c^d))+g[8]+1770035416&4294967295,o=u+(h<<7&4294967295|h>>>25),h=d+(c^o&(u^c))+g[9]+2336552879&4294967295,d=o+(h<<12&4294967295|h>>>20),h=c+(u^d&(o^u))+g[10]+4294925233&4294967295,c=d+(h<<17&4294967295|h>>>15),h=u+(o^c&(d^o))+g[11]+2304563134&4294967295,u=c+(h<<22&4294967295|h>>>10),h=o+(d^u&(c^d))+g[12]+1804603682&4294967295,o=u+(h<<7&4294967295|h>>>25),h=d+(c^o&(u^c))+g[13]+4254626195&4294967295,d=o+(h<<12&4294967295|h>>>20),h=c+(u^d&(o^u))+g[14]+2792965006&4294967295,c=d+(h<<17&4294967295|h>>>15),h=u+(o^c&(d^o))+g[15]+1236535329&4294967295,u=c+(h<<22&4294967295|h>>>10),h=o+(c^d&(u^c))+g[1]+4129170786&4294967295,o=u+(h<<5&4294967295|h>>>27),h=d+(u^c&(o^u))+g[6]+3225465664&4294967295,d=o+(h<<9&4294967295|h>>>23),h=c+(o^u&(d^o))+g[11]+643717713&4294967295,c=d+(h<<14&4294967295|h>>>18),h=u+(d^o&(c^d))+g[0]+3921069994&4294967295,u=c+(h<<20&4294967295|h>>>12),h=o+(c^d&(u^c))+g[5]+3593408605&4294967295,o=u+(h<<5&4294967295|h>>>27),h=d+(u^c&(o^u))+g[10]+38016083&4294967295,d=o+(h<<9&4294967295|h>>>23),h=c+(o^u&(d^o))+g[15]+3634488961&4294967295,c=d+(h<<14&4294967295|h>>>18),h=u+(d^o&(c^d))+g[4]+3889429448&4294967295,u=c+(h<<20&4294967295|h>>>12),h=o+(c^d&(u^c))+g[9]+568446438&4294967295,o=u+(h<<5&4294967295|h>>>27),h=d+(u^c&(o^u))+g[14]+3275163606&4294967295,d=o+(h<<9&4294967295|h>>>23),h=c+(o^u&(d^o))+g[3]+4107603335&4294967295,c=d+(h<<14&4294967295|h>>>18),h=u+(d^o&(c^d))+g[8]+1163531501&4294967295,u=c+(h<<20&4294967295|h>>>12),h=o+(c^d&(u^c))+g[13]+2850285829&4294967295,o=u+(h<<5&4294967295|h>>>27),h=d+(u^c&(o^u))+g[2]+4243563512&4294967295,d=o+(h<<9&4294967295|h>>>23),h=c+(o^u&(d^o))+g[7]+1735328473&4294967295,c=d+(h<<14&4294967295|h>>>18),h=u+(d^o&(c^d))+g[12]+2368359562&4294967295,u=c+(h<<20&4294967295|h>>>12),h=o+(u^c^d)+g[5]+4294588738&4294967295,o=u+(h<<4&4294967295|h>>>28),h=d+(o^u^c)+g[8]+2272392833&4294967295,d=o+(h<<11&4294967295|h>>>21),h=c+(d^o^u)+g[11]+1839030562&4294967295,c=d+(h<<16&4294967295|h>>>16),h=u+(c^d^o)+g[14]+4259657740&4294967295,u=c+(h<<23&4294967295|h>>>9),h=o+(u^c^d)+g[1]+2763975236&4294967295,o=u+(h<<4&4294967295|h>>>28),h=d+(o^u^c)+g[4]+1272893353&4294967295,d=o+(h<<11&4294967295|h>>>21),h=c+(d^o^u)+g[7]+4139469664&4294967295,c=d+(h<<16&4294967295|h>>>16),h=u+(c^d^o)+g[10]+3200236656&4294967295,u=c+(h<<23&4294967295|h>>>9),h=o+(u^c^d)+g[13]+681279174&4294967295,o=u+(h<<4&4294967295|h>>>28),h=d+(o^u^c)+g[0]+3936430074&4294967295,d=o+(h<<11&4294967295|h>>>21),h=c+(d^o^u)+g[3]+3572445317&4294967295,c=d+(h<<16&4294967295|h>>>16),h=u+(c^d^o)+g[6]+76029189&4294967295,u=c+(h<<23&4294967295|h>>>9),h=o+(u^c^d)+g[9]+3654602809&4294967295,o=u+(h<<4&4294967295|h>>>28),h=d+(o^u^c)+g[12]+3873151461&4294967295,d=o+(h<<11&4294967295|h>>>21),h=c+(d^o^u)+g[15]+530742520&4294967295,c=d+(h<<16&4294967295|h>>>16),h=u+(c^d^o)+g[2]+3299628645&4294967295,u=c+(h<<23&4294967295|h>>>9),h=o+(c^(u|~d))+g[0]+4096336452&4294967295,o=u+(h<<6&4294967295|h>>>26),h=d+(u^(o|~c))+g[7]+1126891415&4294967295,d=o+(h<<10&4294967295|h>>>22),h=c+(o^(d|~u))+g[14]+2878612391&4294967295,c=d+(h<<15&4294967295|h>>>17),h=u+(d^(c|~o))+g[5]+4237533241&4294967295,u=c+(h<<21&4294967295|h>>>11),h=o+(c^(u|~d))+g[12]+1700485571&4294967295,o=u+(h<<6&4294967295|h>>>26),h=d+(u^(o|~c))+g[3]+2399980690&4294967295,d=o+(h<<10&4294967295|h>>>22),h=c+(o^(d|~u))+g[10]+4293915773&4294967295,c=d+(h<<15&4294967295|h>>>17),h=u+(d^(c|~o))+g[1]+2240044497&4294967295,u=c+(h<<21&4294967295|h>>>11),h=o+(c^(u|~d))+g[8]+1873313359&4294967295,o=u+(h<<6&4294967295|h>>>26),h=d+(u^(o|~c))+g[15]+4264355552&4294967295,d=o+(h<<10&4294967295|h>>>22),h=c+(o^(d|~u))+g[6]+2734768916&4294967295,c=d+(h<<15&4294967295|h>>>17),h=u+(d^(c|~o))+g[13]+1309151649&4294967295,u=c+(h<<21&4294967295|h>>>11),h=o+(c^(u|~d))+g[4]+4149444226&4294967295,o=u+(h<<6&4294967295|h>>>26),h=d+(u^(o|~c))+g[11]+3174756917&4294967295,d=o+(h<<10&4294967295|h>>>22),h=c+(o^(d|~u))+g[2]+718787259&4294967295,c=d+(h<<15&4294967295|h>>>17),h=u+(d^(c|~o))+g[9]+3951481745&4294967295,f.g[0]=f.g[0]+o&4294967295,f.g[1]=f.g[1]+(c+(h<<21&4294967295|h>>>11))&4294967295,f.g[2]=f.g[2]+c&4294967295,f.g[3]=f.g[3]+d&4294967295}a.prototype.v=function(f,o){o===void 0&&(o=f.length);const u=o-this.blockSize,g=this.C;let c=this.h,d=0;for(;d<o;){if(c==0)for(;d<=u;)y(this,f,d),d+=this.blockSize;if(typeof f=="string"){for(;d<o;)if(g[c++]=f.charCodeAt(d++),c==this.blockSize){y(this,g),c=0;break}}else for(;d<o;)if(g[c++]=f[d++],c==this.blockSize){y(this,g),c=0;break}}this.h=c,this.o+=o},a.prototype.A=function(){var f=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);f[0]=128;for(var o=1;o<f.length-8;++o)f[o]=0;o=this.o*8;for(var u=f.length-8;u<f.length;++u)f[u]=o&255,o/=256;for(this.v(f),f=Array(16),o=0,u=0;u<4;++u)for(let g=0;g<32;g+=8)f[o++]=this.g[u]>>>g&255;return f};function v(f,o){var u=E;return Object.prototype.hasOwnProperty.call(u,f)?u[f]:u[f]=o(f)}function _(f,o){this.h=o;const u=[];let g=!0;for(let c=f.length-1;c>=0;c--){const d=f[c]|0;g&&d==o||(u[c]=d,g=!1)}this.g=u}var E={};function R(f){return-128<=f&&f<128?v(f,function(o){return new _([o|0],o<0?-1:0)}):new _([f|0],f<0?-1:0)}function P(f){if(isNaN(f)||!isFinite(f))return C;if(f<0)return L(P(-f));const o=[];let u=1;for(let g=0;f>=u;g++)o[g]=f/u|0,u*=4294967296;return new _(o,0)}function x(f,o){if(f.length==0)throw Error("number format error: empty string");if(o=o||10,o<2||36<o)throw Error("radix out of range: "+o);if(f.charAt(0)=="-")return L(x(f.substring(1),o));if(f.indexOf("-")>=0)throw Error('number format error: interior "-" character');const u=P(Math.pow(o,8));let g=C;for(let d=0;d<f.length;d+=8){var c=Math.min(8,f.length-d);const h=parseInt(f.substring(d,d+c),o);c<8?(c=P(Math.pow(o,c)),g=g.j(c).add(P(h))):(g=g.j(u),g=g.add(P(h)))}return g}var C=R(0),nt=R(1),Rt=R(16777216);l=_.prototype,l.m=function(){if(B(this))return-L(this).m();let f=0,o=1;for(let u=0;u<this.g.length;u++){const g=this.i(u);f+=(g>=0?g:4294967296+g)*o,o*=4294967296}return f},l.toString=function(f){if(f=f||10,f<2||36<f)throw Error("radix out of range: "+f);if(q(this))return"0";if(B(this))return"-"+L(this).toString(f);const o=P(Math.pow(f,6));var u=this;let g="";for(;;){const c=Nt(u,o).g;u=Ct(u,c.j(o));let d=((u.g.length>0?u.g[0]:u.h)>>>0).toString(f);if(u=c,q(u))return d+g;for(;d.length<6;)d="0"+d;g=d+g}},l.i=function(f){return f<0?0:f<this.g.length?this.g[f]:this.h};function q(f){if(f.h!=0)return!1;for(let o=0;o<f.g.length;o++)if(f.g[o]!=0)return!1;return!0}function B(f){return f.h==-1}l.l=function(f){return f=Ct(this,f),B(f)?-1:q(f)?0:1};function L(f){const o=f.g.length,u=[];for(let g=0;g<o;g++)u[g]=~f.g[g];return new _(u,~f.h).add(nt)}l.abs=function(){return B(this)?L(this):this},l.add=function(f){const o=Math.max(this.g.length,f.g.length),u=[];let g=0;for(let c=0;c<=o;c++){let d=g+(this.i(c)&65535)+(f.i(c)&65535),h=(d>>>16)+(this.i(c)>>>16)+(f.i(c)>>>16);g=h>>>16,d&=65535,h&=65535,u[c]=h<<16|d}return new _(u,u[u.length-1]&-2147483648?-1:0)};function Ct(f,o){return f.add(L(o))}l.j=function(f){if(q(this)||q(f))return C;if(B(this))return B(f)?L(this).j(L(f)):L(L(this).j(f));if(B(f))return L(this.j(L(f)));if(this.l(Rt)<0&&f.l(Rt)<0)return P(this.m()*f.m());const o=this.g.length+f.g.length,u=[];for(var g=0;g<2*o;g++)u[g]=0;for(g=0;g<this.g.length;g++)for(let c=0;c<f.g.length;c++){const d=this.i(g)>>>16,h=this.i(g)&65535,G=f.i(c)>>>16,dt=f.i(c)&65535;u[2*g+2*c]+=h*dt,Dt(u,2*g+2*c),u[2*g+2*c+1]+=d*dt,Dt(u,2*g+2*c+1),u[2*g+2*c+1]+=h*G,Dt(u,2*g+2*c+1),u[2*g+2*c+2]+=d*G,Dt(u,2*g+2*c+2)}for(f=0;f<o;f++)u[f]=u[2*f+1]<<16|u[2*f];for(f=o;f<2*o;f++)u[f]=0;return new _(u,0)};function Dt(f,o){for(;(f[o]&65535)!=f[o];)f[o+1]+=f[o]>>>16,f[o]&=65535,o++}function it(f,o){this.g=f,this.h=o}function Nt(f,o){if(q(o))throw Error("division by zero");if(q(f))return new it(C,C);if(B(f))return o=Nt(L(f),o),new it(L(o.g),L(o.h));if(B(o))return o=Nt(f,L(o)),new it(L(o.g),o.h);if(f.g.length>30){if(B(f)||B(o))throw Error("slowDivide_ only works with positive integers.");for(var u=nt,g=o;g.l(f)<=0;)u=st(u),g=st(g);var c=H(u,1),d=H(g,1);for(g=H(g,2),u=H(u,2);!q(g);){var h=d.add(g);h.l(f)<=0&&(c=c.add(u),d=h),g=H(g,1),u=H(u,1)}return o=Ct(f,c.j(o)),new it(c,o)}for(c=C;f.l(o)>=0;){for(u=Math.max(1,Math.floor(f.m()/o.m())),g=Math.ceil(Math.log(u)/Math.LN2),g=g<=48?1:Math.pow(2,g-48),d=P(u),h=d.j(o);B(h)||h.l(f)>0;)u-=g,d=P(u),h=d.j(o);q(d)&&(d=nt),c=c.add(d),f=Ct(f,h)}return new it(c,f)}l.B=function(f){return Nt(this,f).h},l.and=function(f){const o=Math.max(this.g.length,f.g.length),u=[];for(let g=0;g<o;g++)u[g]=this.i(g)&f.i(g);return new _(u,this.h&f.h)},l.or=function(f){const o=Math.max(this.g.length,f.g.length),u=[];for(let g=0;g<o;g++)u[g]=this.i(g)|f.i(g);return new _(u,this.h|f.h)},l.xor=function(f){const o=Math.max(this.g.length,f.g.length),u=[];for(let g=0;g<o;g++)u[g]=this.i(g)^f.i(g);return new _(u,this.h^f.h)};function st(f){const o=f.g.length+1,u=[];for(let g=0;g<o;g++)u[g]=f.i(g)<<1|f.i(g-1)>>>31;return new _(u,f.h)}function H(f,o){const u=o>>5;o%=32;const g=f.g.length-u,c=[];for(let d=0;d<g;d++)c[d]=o>0?f.i(d+u)>>>o|f.i(d+u+1)<<32-o:f.i(d+u);return new _(c,f.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.B,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=P,_.fromString=x,sn=_}).apply(typeof ui<"u"?ui:typeof self<"u"?self:typeof window<"u"?window:{});var _e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var l,i=Object.defineProperty;function r(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof _e=="object"&&_e];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var a=r(this);function y(t,e){if(e)t:{var n=a;t=t.split(".");for(var s=0;s<t.length-1;s++){var p=t[s];if(!(p in n))break t;n=n[p]}t=t[t.length-1],s=n[t],e=e(s),e!=s&&e!=null&&i(n,t,{configurable:!0,writable:!0,value:e})}}y("Symbol.dispose",function(t){return t||Symbol("Symbol.dispose")}),y("Array.prototype.values",function(t){return t||function(){return this[Symbol.iterator]()}}),y("Object.entries",function(t){return t||function(e){var n=[],s;for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.push([s,e[s]]);return n}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var v=v||{},_=this||self;function E(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function R(t,e,n){return t.call.apply(t.bind,arguments)}function P(t,e,n){return P=R,P.apply(null,arguments)}function x(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function C(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Ob=function(s,p,m){for(var w=Array(arguments.length-2),A=2;A<arguments.length;A++)w[A-2]=arguments[A];return e.prototype[p].apply(s,w)}}var nt=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?t=>t&&AsyncContext.Snapshot.wrap(t):t=>t;function Rt(t){const e=t.length;if(e>0){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function q(t,e){for(let s=1;s<arguments.length;s++){const p=arguments[s];var n=typeof p;if(n=n!="object"?n:p?Array.isArray(p)?"array":n:"null",n=="array"||n=="object"&&typeof p.length=="number"){n=t.length||0;const m=p.length||0;t.length=n+m;for(let w=0;w<m;w++)t[n+w]=p[w]}else t.push(p)}}class B{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function L(t){_.setTimeout(()=>{throw t},0)}function Ct(){var t=f;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Dt{constructor(){this.h=this.g=null}add(e,n){const s=it.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var it=new B(()=>new Nt,t=>t.reset());class Nt{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}let st,H=!1,f=new Dt,o=()=>{const t=Promise.resolve(void 0);st=()=>{t.then(u)}};function u(){for(var t;t=Ct();){try{t.h.call(t.g)}catch(n){L(n)}var e=it;e.j(t),e.h<100&&(e.h++,t.next=e.g,e.g=t)}H=!1}function g(){this.u=this.u,this.C=this.C}g.prototype.u=!1,g.prototype.dispose=function(){this.u||(this.u=!0,this.N())},g.prototype[Symbol.dispose]=function(){this.dispose()},g.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function c(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}c.prototype.h=function(){this.defaultPrevented=!0};var d=function(){if(!_.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};_.addEventListener("test",n,e),_.removeEventListener("test",n,e)}catch{}return t}();function h(t){return/^[\s\xa0]*$/.test(t)}function G(t,e){c.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t&&this.init(t,e)}C(G,c),G.prototype.init=function(t,e){const n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget,e||(n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement)),this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=t.pointerType,this.state=t.state,this.i=t,t.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),bi=0;function Vi(t,e,n,s,p){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.ha=p,this.key=++bi,this.da=this.fa=!1}function oe(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function he(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function Ui(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function un(t){const e={};for(const n in t)e[n]=t[n];return e}const an="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cn(t,e){let n,s;for(let p=1;p<arguments.length;p++){s=arguments[p];for(n in s)t[n]=s[n];for(let m=0;m<an.length;m++)n=an[m],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function le(t){this.src=t,this.g={},this.h=0}le.prototype.add=function(t,e,n,s,p){const m=t.toString();t=this.g[m],t||(t=this.g[m]=[],this.h++);const w=Se(t,e,s,p);return w>-1?(e=t[w],n||(e.fa=!1)):(e=new Vi(e,this.src,m,!!s,p),e.fa=n,t.push(e)),e};function Ie(t,e){const n=e.type;if(n in t.g){var s=t.g[n],p=Array.prototype.indexOf.call(s,e,void 0),m;(m=p>=0)&&Array.prototype.splice.call(s,p,1),m&&(oe(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Se(t,e,n,s){for(let p=0;p<t.length;++p){const m=t[p];if(!m.da&&m.listener==e&&m.capture==!!n&&m.ha==s)return p}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Re={};function fn(t,e,n,s,p){if(Array.isArray(e)){for(let m=0;m<e.length;m++)fn(t,e[m],n,s,p);return null}return n=dn(n),t&&t[dt]?t.J(e,n,E(s)?!!s.capture:!1,p):Fi(t,e,n,!1,s,p)}function Fi(t,e,n,s,p,m){if(!e)throw Error("Invalid event type");const w=E(p)?!!p.capture:!!p;let A=De(t);if(A||(t[Pe]=A=new le(t)),n=A.add(e,n,s,w,m),n.proxy)return n;if(s=Bi(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)d||(p=w),p===void 0&&(p=!1),t.addEventListener(e.toString(),s,p);else if(t.attachEvent)t.attachEvent(pn(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Bi(){function t(n){return e.call(t.src,t.listener,n)}const e=Gi;return t}function gn(t,e,n,s,p){if(Array.isArray(e))for(var m=0;m<e.length;m++)gn(t,e[m],n,s,p);else s=E(s)?!!s.capture:!!s,n=dn(n),t&&t[dt]?(t=t.i,m=String(e).toString(),m in t.g&&(e=t.g[m],n=Se(e,n,s,p),n>-1&&(oe(e[n]),Array.prototype.splice.call(e,n,1),e.length==0&&(delete t.g[m],t.h--)))):t&&(t=De(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Se(e,n,s,p)),(n=t>-1?e[t]:null)&&Ce(n))}function Ce(t){if(typeof t!="number"&&t&&!t.da){var e=t.src;if(e&&e[dt])Ie(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(pn(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=De(e))?(Ie(n,t),n.h==0&&(n.src=null,e[Pe]=null)):oe(t)}}}function pn(t){return t in Re?Re[t]:Re[t]="on"+t}function Gi(t,e){if(t.da)t=!0;else{e=new G(e,this);const n=t.listener,s=t.ha||t.src;t.fa&&Ce(t),t=n.call(s,e)}return t}function De(t){return t=t[Pe],t instanceof le?t:null}var Ne="__closure_events_fn_"+(Math.random()*1e9>>>0);function dn(t){return typeof t=="function"?t:(t[Ne]||(t[Ne]=function(e){return t.handleEvent(e)}),t[Ne])}function b(){g.call(this),this.i=new le(this),this.M=this,this.G=null}C(b,g),b.prototype[dt]=!0,b.prototype.removeEventListener=function(t,e,n,s){gn(this,t,e,n,s)};function V(t,e){var n,s=t.G;if(s)for(n=[];s;s=s.G)n.push(s);if(t=t.M,s=e.type||e,typeof e=="string")e=new c(e,t);else if(e instanceof c)e.target=e.target||t;else{var p=e;e=new c(s,t),cn(e,p)}p=!0;let m,w;if(n)for(w=n.length-1;w>=0;w--)m=e.g=n[w],p=ue(m,s,!0,e)&&p;if(m=e.g=t,p=ue(m,s,!0,e)&&p,p=ue(m,s,!1,e)&&p,n)for(w=0;w<n.length;w++)m=e.g=n[w],p=ue(m,s,!1,e)&&p}b.prototype.N=function(){if(b.Z.N.call(this),this.i){var t=this.i;for(const e in t.g){const n=t.g[e];for(let s=0;s<n.length;s++)oe(n[s]);delete t.g[e],t.h--}}this.G=null},b.prototype.J=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)},b.prototype.K=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function ue(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();let p=!0;for(let m=0;m<e.length;++m){const w=e[m];if(w&&!w.da&&w.capture==n){const A=w.listener,j=w.ha||w.src;w.fa&&Ie(t.i,w),p=A.call(j,s)!==!1&&p}}return p&&!s.defaultPrevented}function qi(t,e){if(typeof t!="function")if(t&&typeof t.handleEvent=="function")t=P(t.handleEvent,t);else throw Error("Invalid listener argument");return Number(e)>2147483647?-1:_.setTimeout(t,e||0)}function mn(t){t.g=qi(()=>{t.g=null,t.i&&(t.i=!1,mn(t))},t.l);const e=t.h;t.h=null,t.m.apply(null,e)}class Hi extends g{constructor(e,n){super(),this.m=e,this.l=n,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:mn(this)}N(){super.N(),this.g&&(_.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vt(t){g.call(this),this.h=t,this.g={}}C(Vt,g);var yn=[];function _n(t){he(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ce(e)},t),t.g={}}Vt.prototype.N=function(){Vt.Z.N.call(this),_n(this)},Vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ke=_.JSON.stringify,Xi=_.JSON.parse,zi=class{stringify(t){return _.JSON.stringify(t,void 0)}parse(t){return _.JSON.parse(t,void 0)}};function vn(){}function $i(){}var Ut={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oe(){c.call(this,"d")}C(Oe,c);function Le(){c.call(this,"c")}C(Le,c);var kt={},wn=null;function je(){return wn=wn||new b}kt.Ia="serverreachability";function En(t){c.call(this,kt.Ia,t)}C(En,c);function Ft(t){const e=je();V(e,new En(e))}kt.STAT_EVENT="statevent";function An(t,e){c.call(this,kt.STAT_EVENT,t),this.stat=e}C(An,c);function U(t){const e=je();V(e,new An(e,t))}kt.Ja="timingevent";function Tn(t,e){c.call(this,kt.Ja,t),this.size=e}C(Tn,c);function Bt(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return _.setTimeout(function(){t()},e)}function Gt(){this.g=!0}Gt.prototype.ua=function(){this.g=!1};function Ji(t,e,n,s,p,m){t.info(function(){if(t.g)if(m){var w="",A=m.split("&");for(let D=0;D<A.length;D++){var j=A[D].split("=");if(j.length>1){const M=j[0];j=j[1];const W=M.split("_");w=W.length>=2&&W[1]=="type"?w+(M+"="+j+"&"):w+(M+"=redacted&")}}}else w=null;else w=m;return"XMLHTTP REQ ("+s+") [attempt "+p+"]: "+e+`
`+n+`
`+w})}function Wi(t,e,n,s,p,m,w){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+p+"]: "+e+`
`+n+`
`+m+" "+w})}function Ot(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Yi(t,n)+(s?" "+s:"")})}function Ki(t,e){t.info(function(){return"TIMEOUT: "+e})}Gt.prototype.info=function(){};function Yi(t,e){if(!t.g)return e;if(!e)return null;try{const m=JSON.parse(e);if(m){for(t=0;t<m.length;t++)if(Array.isArray(m[t])){var n=m[t];if(!(n.length<2)){var s=n[1];if(Array.isArray(s)&&!(s.length<1)){var p=s[0];if(p!="noop"&&p!="stop"&&p!="close")for(let w=1;w<s.length;w++)s[w]=""}}}}return ke(m)}catch{return e}}var Me={NO_ERROR:0,TIMEOUT:8},Qi={},In;function xe(){}C(xe,vn),xe.prototype.g=function(){return new XMLHttpRequest},In=new xe;function qt(t){return encodeURIComponent(String(t))}function Zi(t){var e=1;t=t.split(":");const n=[];for(;e>0&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function rt(t,e,n,s){this.j=t,this.i=e,this.l=n,this.S=s||1,this.V=new Vt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Sn}function Sn(){this.i=null,this.g="",this.h=!1}var Pn={},be={};function Ve(t,e,n){t.M=1,t.A=ce(J(e)),t.u=n,t.R=!0,Rn(t,null)}function Rn(t,e){t.F=Date.now(),ae(t),t.B=J(t.A);var n=t.B,s=t.S;Array.isArray(s)||(s=[String(s)]),Fn(n.i,"t",s),t.C=0,n=t.j.L,t.h=new Sn,t.g=si(t.j,n?e:null,!t.u),t.P>0&&(t.O=new Hi(P(t.Y,t,t.g),t.P)),e=t.V,n=t.g,s=t.ba;var p="readystatechange";Array.isArray(p)||(p&&(yn[0]=p.toString()),p=yn);for(let m=0;m<p.length;m++){const w=fn(n,p[m],s||e.handleEvent,!1,e.h||e);if(!w)break;e.g[w.key]=w}e=t.J?un(t.J):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.B,t.v,t.u,e)):(t.v="GET",t.g.ea(t.B,t.v,null,e)),Ft(),Ji(t.i,t.v,t.B,t.l,t.S,t.u)}rt.prototype.ba=function(t){t=t.target;const e=this.O;e&&lt(t)==3?e.j():this.Y(t)},rt.prototype.Y=function(t){try{if(t==this.g)t:{const A=lt(this.g),j=this.g.ya(),D=this.g.ca();if(!(A<3)&&(A!=3||this.g&&(this.h.h||this.g.la()||$n(this.g)))){this.K||A!=4||j==7||(j==8||D<=0?Ft(3):Ft(2)),Ue(this);var e=this.g.ca();this.X=e;var n=ts(this);if(this.o=e==200,Wi(this.i,this.v,this.B,this.l,this.S,A,e),this.o){if(this.U&&!this.L){e:{if(this.g){var s,p=this.g;if((s=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!h(s)){var m=s;break e}}m=null}if(t=m)Ot(this.i,this.l,t,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fe(this,t);else{this.o=!1,this.m=3,U(12),mt(this),Ht(this);break t}}if(this.R){t=!0;let M;for(;!this.K&&this.C<n.length;)if(M=es(this,n),M==be){A==4&&(this.m=4,U(14),t=!1),Ot(this.i,this.l,null,"[Incomplete Response]");break}else if(M==Pn){this.m=4,U(15),Ot(this.i,this.l,n,"[Invalid Chunk]"),t=!1;break}else Ot(this.i,this.l,M,null),Fe(this,M);if(Cn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),A!=4||n.length!=0||this.h.h||(this.m=1,U(16),t=!1),this.o=this.o&&t,!t)Ot(this.i,this.l,n,"[Invalid Chunked Response]"),mt(this),Ht(this);else if(n.length>0&&!this.W){this.W=!0;var w=this.j;w.g==this&&w.aa&&!w.P&&(w.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Je(w),w.P=!0,U(11))}}else Ot(this.i,this.l,n,null),Fe(this,n);A==4&&mt(this),this.o&&!this.K&&(A==4?ti(this.j,this):(this.o=!1,ae(this)))}else ds(this.g),e==400&&n.indexOf("Unknown SID")>0?(this.m=3,U(12)):(this.m=0,U(13)),mt(this),Ht(this)}}}catch{}finally{}};function ts(t){if(!Cn(t))return t.g.la();const e=$n(t.g);if(e==="")return"";let n="";const s=e.length,p=lt(t.g)==4;if(!t.h.i){if(typeof TextDecoder>"u")return mt(t),Ht(t),"";t.h.i=new _.TextDecoder}for(let m=0;m<s;m++)t.h.h=!0,n+=t.h.i.decode(e[m],{stream:!(p&&m==s-1)});return e.length=0,t.h.g+=n,t.C=0,t.h.g}function Cn(t){return t.g?t.v=="GET"&&t.M!=2&&t.j.Aa:!1}function es(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?be:(n=Number(e.substring(n,s)),isNaN(n)?Pn:(s+=1,s+n>e.length?be:(e=e.slice(s,s+n),t.C=s+n,e)))}rt.prototype.cancel=function(){this.K=!0,mt(this)};function ae(t){t.T=Date.now()+t.H,Dn(t,t.H)}function Dn(t,e){if(t.D!=null)throw Error("WatchDog timer not null");t.D=Bt(P(t.aa,t),e)}function Ue(t){t.D&&(_.clearTimeout(t.D),t.D=null)}rt.prototype.aa=function(){this.D=null;const t=Date.now();t-this.T>=0?(Ki(this.i,this.B),this.M!=2&&(Ft(),U(17)),mt(this),this.m=2,Ht(this)):Dn(this,this.T-t)};function Ht(t){t.j.I==0||t.K||ti(t.j,t)}function mt(t){Ue(t);var e=t.O;e&&typeof e.dispose=="function"&&e.dispose(),t.O=null,_n(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.dispose())}function Fe(t,e){try{var n=t.j;if(n.I!=0&&(n.g==t||Be(n.h,t))){if(!t.L&&Be(n.h,t)&&n.I==3){try{var s=n.Ba.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var p=s;if(p[0]==0){t:if(!n.v){if(n.g)if(n.g.F+3e3<t.F)me(n),pe(n);else break t;$e(n),U(18)}}else n.xa=p[1],0<n.xa-n.K&&p[2]<37500&&n.F&&n.A==0&&!n.C&&(n.C=Bt(P(n.Va,n),6e3));On(n.h)<=1&&n.ta&&(n.ta=void 0)}else _t(n,11)}else if((t.L||n.g==t)&&me(n),!h(e))for(p=n.Ba.g.parse(e),e=0;e<p.length;e++){let D=p[e];const M=D[0];if(!(M<=n.K))if(n.K=M,D=D[1],n.I==2)if(D[0]=="c"){n.M=D[1],n.ba=D[2];const W=D[3];W!=null&&(n.ka=W,n.j.info("VER="+n.ka));const vt=D[4];vt!=null&&(n.za=vt,n.j.info("SVER="+n.za));const ut=D[5];ut!=null&&typeof ut=="number"&&ut>0&&(s=1.5*ut,n.O=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const at=t.g;if(at){const ye=at.g?at.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ye){var m=s.h;m.g||ye.indexOf("spdy")==-1&&ye.indexOf("quic")==-1&&ye.indexOf("h2")==-1||(m.j=m.l,m.g=new Set,m.h&&(Ge(m,m.h),m.h=null))}if(s.G){const We=at.g?at.g.getResponseHeader("X-HTTP-Session-Id"):null;We&&(s.wa=We,N(s.J,s.G,We))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-t.F,n.j.info("Handshake RTT: "+n.T+"ms")),s=n;var w=t;if(s.na=ii(s,s.L?s.ba:null,s.W),w.L){Ln(s.h,w);var A=w,j=s.O;j&&(A.H=j),A.D&&(Ue(A),ae(A)),s.g=w}else Qn(s);n.i.length>0&&de(n)}else D[0]!="stop"&&D[0]!="close"||_t(n,7);else n.I==3&&(D[0]=="stop"||D[0]=="close"?D[0]=="stop"?_t(n,7):ze(n):D[0]!="noop"&&n.l&&n.l.qa(D),n.A=0)}}Ft(4)}catch{}}var ns=class{constructor(t,e){this.g=t,this.map=e}};function Nn(t){this.l=t||10,_.PerformanceNavigationTiming?(t=_.performance.getEntriesByType("navigation"),t=t.length>0&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(_.chrome&&_.chrome.loadTimes&&_.chrome.loadTimes()&&_.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kn(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function On(t){return t.h?1:t.g?t.g.size:0}function Be(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ge(t,e){t.g?t.g.add(e):t.h=e}function Ln(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Nn.prototype.cancel=function(){if(this.i=jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function jn(t){if(t.h!=null)return t.i.concat(t.h.G);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.G);return e}return Rt(t.i)}var Mn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function is(t,e){if(t){t=t.split("&");for(let n=0;n<t.length;n++){const s=t[n].indexOf("=");let p,m=null;s>=0?(p=t[n].substring(0,s),m=t[n].substring(s+1)):p=t[n],e(p,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function ot(t){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let e;t instanceof ot?(this.l=t.l,Xt(this,t.j),this.o=t.o,this.g=t.g,zt(this,t.u),this.h=t.h,qe(this,Bn(t.i)),this.m=t.m):t&&(e=String(t).match(Mn))?(this.l=!1,Xt(this,e[1]||"",!0),this.o=$t(e[2]||""),this.g=$t(e[3]||"",!0),zt(this,e[4]),this.h=$t(e[5]||"",!0),qe(this,e[6]||"",!0),this.m=$t(e[7]||"")):(this.l=!1,this.i=new Wt(null,this.l))}ot.prototype.toString=function(){const t=[];var e=this.j;e&&t.push(Jt(e,xn,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.o)&&t.push(Jt(e,xn,!0),"@"),t.push(qt(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.u,n!=null&&t.push(":",String(n))),(n=this.h)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Jt(n,n.charAt(0)=="/"?os:rs,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",Jt(n,ls)),t.join("")},ot.prototype.resolve=function(t){const e=J(this);let n=!!t.j;n?Xt(e,t.j):n=!!t.o,n?e.o=t.o:n=!!t.g,n?e.g=t.g:n=t.u!=null;var s=t.h;if(n)zt(e,t.u);else if(n=!!t.h){if(s.charAt(0)!="/")if(this.g&&!this.h)s="/"+s;else{var p=e.h.lastIndexOf("/");p!=-1&&(s=e.h.slice(0,p+1)+s)}if(p=s,p==".."||p==".")s="";else if(p.indexOf("./")!=-1||p.indexOf("/.")!=-1){s=p.lastIndexOf("/",0)==0,p=p.split("/");const m=[];for(let w=0;w<p.length;){const A=p[w++];A=="."?s&&w==p.length&&m.push(""):A==".."?((m.length>1||m.length==1&&m[0]!="")&&m.pop(),s&&w==p.length&&m.push("")):(m.push(A),s=!0)}s=m.join("/")}else s=p}return n?e.h=s:n=t.i.toString()!=="",n?qe(e,Bn(t.i)):n=!!t.m,n&&(e.m=t.m),e};function J(t){return new ot(t)}function Xt(t,e,n){t.j=n?$t(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function zt(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.u=e}else t.u=null}function qe(t,e,n){e instanceof Wt?(t.i=e,us(t.i,t.l)):(n||(e=Jt(e,hs)),t.i=new Wt(e,t.l))}function N(t,e,n){t.i.set(e,n)}function ce(t){return N(t,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),t}function $t(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Jt(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,ss),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ss(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var xn=/[#\/\?@]/g,rs=/[#\?:]/g,os=/[#\?]/g,hs=/[#\?@]/g,ls=/#/g;function Wt(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function yt(t){t.g||(t.g=new Map,t.h=0,t.i&&is(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}l=Wt.prototype,l.add=function(t,e){yt(this),this.i=null,t=Lt(this,t);let n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function bn(t,e){yt(t),e=Lt(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Vn(t,e){return yt(t),e=Lt(t,e),t.g.has(e)}l.forEach=function(t,e){yt(this),this.g.forEach(function(n,s){n.forEach(function(p){t.call(e,p,s,this)},this)},this)};function Un(t,e){yt(t);let n=[];if(typeof e=="string")Vn(t,e)&&(n=n.concat(t.g.get(Lt(t,e))));else for(t=Array.from(t.g.values()),e=0;e<t.length;e++)n=n.concat(t[e]);return n}l.set=function(t,e){return yt(this),this.i=null,t=Lt(this,t),Vn(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},l.get=function(t,e){return t?(t=Un(this,t),t.length>0?String(t[0]):e):e};function Fn(t,e,n){bn(t,e),n.length>0&&(t.i=null,t.g.set(Lt(t,e),Rt(n)),t.h+=n.length)}l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(let s=0;s<e.length;s++){var n=e[s];const p=qt(n);n=Un(this,n);for(let m=0;m<n.length;m++){let w=p;n[m]!==""&&(w+="="+qt(n[m])),t.push(w)}}return this.i=t.join("&")};function Bn(t){const e=new Wt;return e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),e}function Lt(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function us(t,e){e&&!t.j&&(yt(t),t.i=null,t.g.forEach(function(n,s){const p=s.toLowerCase();s!=p&&(bn(this,s),Fn(this,p,n))},t)),t.j=e}function as(t,e){const n=new Gt;if(_.Image){const s=new Image;s.onload=x(ht,n,"TestLoadImage: loaded",!0,e,s),s.onerror=x(ht,n,"TestLoadImage: error",!1,e,s),s.onabort=x(ht,n,"TestLoadImage: abort",!1,e,s),s.ontimeout=x(ht,n,"TestLoadImage: timeout",!1,e,s),_.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function cs(t,e){const n=new Gt,s=new AbortController,p=setTimeout(()=>{s.abort(),ht(n,"TestPingServer: timeout",!1,e)},1e4);fetch(t,{signal:s.signal}).then(m=>{clearTimeout(p),m.ok?ht(n,"TestPingServer: ok",!0,e):ht(n,"TestPingServer: server error",!1,e)}).catch(()=>{clearTimeout(p),ht(n,"TestPingServer: error",!1,e)})}function ht(t,e,n,s,p){try{p&&(p.onload=null,p.onerror=null,p.onabort=null,p.ontimeout=null),s(n)}catch{}}function fs(){this.g=new zi}function He(t){this.i=t.Sb||null,this.h=t.ab||!1}C(He,vn),He.prototype.g=function(){return new fe(this.i,this.h)};function fe(t,e){b.call(this),this.H=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(fe,b),l=fe.prototype,l.open=function(t,e){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=t,this.D=e,this.readyState=1,Yt(this)},l.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const e={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};t&&(e.body=t),(this.H||_).fetch(new Request(this.D,e)).then(this.Pa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Kt(this)),this.readyState=0},l.Pa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yt(this)),this.g&&(this.readyState=3,Yt(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof _.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gn(this)}else t.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gn(t){t.j.read().then(t.Ma.bind(t)).catch(t.ga.bind(t))}l.Ma=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.B.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Kt(this):Yt(this),this.readyState==3&&Gn(this)}},l.Oa=function(t){this.g&&(this.response=this.responseText=t,Kt(this))},l.Na=function(t){this.g&&(this.response=t,Kt(this))},l.ga=function(){this.g&&Kt(this)};function Kt(t){t.readyState=4,t.l=null,t.j=null,t.B=null,Yt(t)}l.setRequestHeader=function(t,e){this.A.append(t,e)},l.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Yt(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(fe.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});function qn(t){let e="";return he(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Xe(t,e,n){t:{for(s in n){var s=!1;break t}s=!0}s||(n=qn(n),typeof t=="string"?n!=null&&qt(n):N(t,e,n))}function k(t){b.call(this),this.headers=new Map,this.L=t||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(k,b);var gs=/^https?$/i,ps=["POST","PUT"];l=k.prototype,l.Fa=function(t){this.H=t},l.ea=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():In.g(),this.g.onreadystatechange=nt(P(this.Ca,this));try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(m){Hn(this,m);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var p in s)n.set(p,s[p]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const m of s.keys())n.set(m,s.get(m));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(m=>m.toLowerCase()=="content-type"),p=_.FormData&&t instanceof _.FormData,!(Array.prototype.indexOf.call(ps,e,void 0)>=0)||s||p||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,w]of n)this.g.setRequestHeader(m,w);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(t),this.v=!1}catch(m){Hn(this,m)}};function Hn(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.o=5,Xn(t),ge(t)}function Xn(t){t.A||(t.A=!0,V(t,"complete"),V(t,"error"))}l.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=t||7,V(this,"complete"),V(this,"abort"),ge(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ge(this,!0)),k.Z.N.call(this)},l.Ca=function(){this.u||(this.B||this.v||this.j?zn(this):this.Xa())},l.Xa=function(){zn(this)};function zn(t){if(t.h&&typeof v<"u"){if(t.v&&lt(t)==4)setTimeout(t.Ca.bind(t),0);else if(V(t,"readystatechange"),lt(t)==4){t.h=!1;try{const m=t.ca();t:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var s;if(s=m===0){let w=String(t.D).match(Mn)[1]||null;!w&&_.self&&_.self.location&&(w=_.self.location.protocol.slice(0,-1)),s=!gs.test(w?w.toLowerCase():"")}n=s}if(n)V(t,"complete"),V(t,"success");else{t.o=6;try{var p=lt(t)>2?t.g.statusText:""}catch{p=""}t.l=p+" ["+t.ca()+"]",Xn(t)}}finally{ge(t)}}}}function ge(t,e){if(t.g){t.m&&(clearTimeout(t.m),t.m=null);const n=t.g;t.g=null,e||V(t,"ready");try{n.onreadystatechange=null}catch{}}}l.isActive=function(){return!!this.g};function lt(t){return t.g?t.g.readyState:0}l.ca=function(){try{return lt(this)>2?this.g.status:-1}catch{return-1}},l.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.La=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Xi(e)}};function $n(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.F){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(t){const e={};t=(t.g&&lt(t)>=2&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(h(t[s]))continue;var n=Zi(t[s]);const p=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const m=e[p]||[];e[p]=m,m.push(n)}Ui(e,function(s){return s.join(", ")})}l.ya=function(){return this.o},l.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qt(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Jn(t){this.za=0,this.i=[],this.j=new Gt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qt("failFast",!1,t),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qt("baseRetryDelayMs",5e3,t),this.Za=Qt("retryDelaySeedMs",1e4,t),this.Ta=Qt("forwardChannelMaxRetries",2,t),this.va=Qt("forwardChannelRequestTimeoutMs",2e4,t),this.ma=t&&t.xmlHttpFactory||void 0,this.Ua=t&&t.Rb||void 0,this.Aa=t&&t.useFetchStreams||!1,this.O=void 0,this.L=t&&t.supportsCrossDomainXhr||!1,this.M="",this.h=new Nn(t&&t.concurrentRequestLimit),this.Ba=new fs,this.S=t&&t.fastHandshake||!1,this.R=t&&t.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=t&&t.Pb||!1,t&&t.ua&&this.j.ua(),t&&t.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&t&&t.detectBufferingProxy||!1,this.ia=void 0,t&&t.longPollingTimeout&&t.longPollingTimeout>0&&(this.ia=t.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}l=Jn.prototype,l.ka=8,l.I=1,l.connect=function(t,e,n,s){U(0),this.W=t,this.H=e||{},n&&s!==void 0&&(this.H.OSID=n,this.H.OAID=s),this.F=this.X,this.J=ii(this,null,this.W),de(this)};function ze(t){if(Wn(t),t.I==3){var e=t.V++,n=J(t.J);if(N(n,"SID",t.M),N(n,"RID",e),N(n,"TYPE","terminate"),Zt(t,n),e=new rt(t,t.j,e),e.M=2,e.A=ce(J(n)),n=!1,_.navigator&&_.navigator.sendBeacon)try{n=_.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&_.Image&&(new Image().src=e.A,n=!0),n||(e.g=si(e.j,null),e.g.ea(e.A)),e.F=Date.now(),ae(e)}ni(t)}function pe(t){t.g&&(Je(t),t.g.cancel(),t.g=null)}function Wn(t){pe(t),t.v&&(_.clearTimeout(t.v),t.v=null),me(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&_.clearTimeout(t.m),t.m=null)}function de(t){if(!kn(t.h)&&!t.m){t.m=!0;var e=t.Ea;st||o(),H||(st(),H=!0),f.add(e,t),t.D=0}}function ms(t,e){return On(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.G.concat(t.i),!0):t.I==1||t.I==2||t.D>=(t.Sa?0:t.Ta)?!1:(t.m=Bt(P(t.Ea,t,e),ei(t,t.D)),t.D++,!0)}l.Ea=function(t){if(this.m)if(this.m=null,this.I==1){if(!t){this.V=Math.floor(Math.random()*1e5),t=this.V++;const p=new rt(this,this.j,t);let m=this.o;if(this.U&&(m?(m=un(m),cn(m,this.U)):m=this.U),this.u!==null||this.R||(p.J=m,m=null),this.S)t:{for(var e=0,n=0;n<this.i.length;n++){e:{var s=this.i[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break e}s=void 0}if(s===void 0)break;if(e+=s,e>4096){e=n;break t}if(e===4096||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Yn(this,p,e),n=J(this.J),N(n,"RID",t),N(n,"CVER",22),this.G&&N(n,"X-HTTP-Session-Id",this.G),Zt(this,n),m&&(this.R?e="headers="+qt(qn(m))+"&"+e:this.u&&Xe(n,this.u,m)),Ge(this.h,p),this.Ra&&N(n,"TYPE","init"),this.S?(N(n,"$req",e),N(n,"SID","null"),p.U=!0,Ve(p,n,null)):Ve(p,n,e),this.I=2}}else this.I==3&&(t?Kn(this,t):this.i.length==0||kn(this.h)||Kn(this))};function Kn(t,e){var n;e?n=e.l:n=t.V++;const s=J(t.J);N(s,"SID",t.M),N(s,"RID",n),N(s,"AID",t.K),Zt(t,s),t.u&&t.o&&Xe(s,t.u,t.o),n=new rt(t,t.j,n,t.D+1),t.u===null&&(n.J=t.o),e&&(t.i=e.G.concat(t.i)),e=Yn(t,n,1e3),n.H=Math.round(t.va*.5)+Math.round(t.va*.5*Math.random()),Ge(t.h,n),Ve(n,s,e)}function Zt(t,e){t.H&&he(t.H,function(n,s){N(e,s,n)}),t.l&&he({},function(n,s){N(e,s,n)})}function Yn(t,e,n){n=Math.min(t.i.length,n);const s=t.l?P(t.l.Ka,t.l,t):null;t:{var p=t.i;let A=-1;for(;;){const j=["count="+n];A==-1?n>0?(A=p[0].g,j.push("ofs="+A)):A=0:j.push("ofs="+A);let D=!0;for(let M=0;M<n;M++){var m=p[M].g;const W=p[M].map;if(m-=A,m<0)A=Math.max(0,p[M].g-100),D=!1;else try{m="req"+m+"_"||"";try{var w=W instanceof Map?W:Object.entries(W);for(const[vt,ut]of w){let at=ut;E(ut)&&(at=ke(ut)),j.push(m+vt+"="+encodeURIComponent(at))}}catch(vt){throw j.push(m+"type="+encodeURIComponent("_badmap")),vt}}catch{s&&s(W)}}if(D){w=j.join("&");break t}}w=void 0}return t=t.i.splice(0,n),e.G=t,w}function Qn(t){if(!t.g&&!t.v){t.Y=1;var e=t.Da;st||o(),H||(st(),H=!0),f.add(e,t),t.A=0}}function $e(t){return t.g||t.v||t.A>=3?!1:(t.Y++,t.v=Bt(P(t.Da,t),ei(t,t.A)),t.A++,!0)}l.Da=function(){if(this.v=null,Zn(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var t=4*this.T;this.j.info("BP detection timer enabled: "+t),this.B=Bt(P(this.Wa,this),t)}},l.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,U(10),pe(this),Zn(this))};function Je(t){t.B!=null&&(_.clearTimeout(t.B),t.B=null)}function Zn(t){t.g=new rt(t,t.j,"rpc",t.Y),t.u===null&&(t.g.J=t.o),t.g.P=0;var e=J(t.na);N(e,"RID","rpc"),N(e,"SID",t.M),N(e,"AID",t.K),N(e,"CI",t.F?"0":"1"),!t.F&&t.ia&&N(e,"TO",t.ia),N(e,"TYPE","xmlhttp"),Zt(t,e),t.u&&t.o&&Xe(e,t.u,t.o),t.O&&(t.g.H=t.O);var n=t.g;t=t.ba,n.M=1,n.A=ce(J(e)),n.u=null,n.R=!0,Rn(n,t)}l.Va=function(){this.C!=null&&(this.C=null,pe(this),$e(this),U(19))};function me(t){t.C!=null&&(_.clearTimeout(t.C),t.C=null)}function ti(t,e){var n=null;if(t.g==e){me(t),Je(t),t.g=null;var s=2}else if(Be(t.h,e))n=e.G,Ln(t.h,e),s=1;else return;if(t.I!=0){if(e.o)if(s==1){n=e.u?e.u.length:0,e=Date.now()-e.F;var p=t.D;s=je(),V(s,new Tn(s,n)),de(t)}else Qn(t);else if(p=e.m,p==3||p==0&&e.X>0||!(s==1&&ms(t,e)||s==2&&$e(t)))switch(n&&n.length>0&&(e=t.h,e.i=e.i.concat(n)),p){case 1:_t(t,5);break;case 4:_t(t,10);break;case 3:_t(t,6);break;default:_t(t,2)}}}function ei(t,e){let n=t.Qa+Math.floor(Math.random()*t.Za);return t.isActive()||(n*=2),n*e}function _t(t,e){if(t.j.info("Error code "+e),e==2){var n=P(t.bb,t),s=t.Ua;const p=!s;s=new ot(s||"//www.google.com/images/cleardot.gif"),_.location&&_.location.protocol=="http"||Xt(s,"https"),ce(s),p?as(s.toString(),n):cs(s.toString(),n)}else U(2);t.I=0,t.l&&t.l.pa(e),ni(t),Wn(t)}l.bb=function(t){t?(this.j.info("Successfully pinged google.com"),U(2)):(this.j.info("Failed to ping google.com"),U(1))};function ni(t){if(t.I=0,t.ja=[],t.l){const e=jn(t.h);(e.length!=0||t.i.length!=0)&&(q(t.ja,e),q(t.ja,t.i),t.h.i.length=0,Rt(t.i),t.i.length=0),t.l.oa()}}function ii(t,e,n){var s=n instanceof ot?J(n):new ot(n);if(s.g!="")e&&(s.g=e+"."+s.g),zt(s,s.u);else{var p=_.location;s=p.protocol,e=e?e+"."+p.hostname:p.hostname,p=+p.port;const m=new ot(null);s&&Xt(m,s),e&&(m.g=e),p&&zt(m,p),n&&(m.h=n),s=m}return n=t.G,e=t.wa,n&&e&&N(s,n,e),N(s,"VER",t.ka),Zt(t,s),s}function si(t,e,n){if(e&&!t.L)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Aa&&!t.ma?new k(new He({ab:n})):new k(t.ma),e.Fa(t.L),e}l.isActive=function(){return!!this.l&&this.l.isActive(this)};function ri(){}l=ri.prototype,l.ra=function(){},l.qa=function(){},l.pa=function(){},l.oa=function(){},l.isActive=function(){return!0},l.Ka=function(){};function X(t,e){b.call(this),this.g=new Jn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.sa&&(t?t["X-WebChannel-Client-Profile"]=e.sa:t={"X-WebChannel-Client-Profile":e.sa}),this.g.U=t,(t=e&&e.Qb)&&!h(t)&&(this.g.u=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!h(e)&&(this.g.G=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new jt(this)}C(X,b),X.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},X.prototype.close=function(){ze(this.g)},X.prototype.o=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ke(t),t=n);e.i.push(new ns(e.Ya++,t)),e.I==3&&de(e)},X.prototype.N=function(){this.g.l=null,delete this.j,ze(this.g),delete this.g,X.Z.N.call(this)};function oi(t){Oe.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}C(oi,Oe);function hi(){Le.call(this),this.status=1}C(hi,Le);function jt(t){this.g=t}C(jt,ri),jt.prototype.ra=function(){V(this.g,"a")},jt.prototype.qa=function(t){V(this.g,new oi(t))},jt.prototype.pa=function(t){V(this.g,new hi)},jt.prototype.oa=function(){V(this.g,"b")},X.prototype.send=X.prototype.o,X.prototype.open=X.prototype.m,X.prototype.close=X.prototype.close,Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,Qi.COMPLETE="complete",$i.EventType=Ut,Ut.OPEN="a",Ut.CLOSE="b",Ut.ERROR="c",Ut.MESSAGE="d",b.prototype.listen=b.prototype.J,k.prototype.listenOnce=k.prototype.K,k.prototype.getLastError=k.prototype.Ha,k.prototype.getLastErrorCode=k.prototype.ya,k.prototype.getStatus=k.prototype.ca,k.prototype.getResponseJson=k.prototype.La,k.prototype.getResponseText=k.prototype.la,k.prototype.send=k.prototype.ea,k.prototype.setWithCredentials=k.prototype.Fa}).apply(typeof _e<"u"?_e:typeof self<"u"?self:typeof window<"u"?window:{});const ai="@firebase/firestore",ci="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(i){this.uid=i}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}F.UNAUTHENTICATED=new F(null),F.GOOGLE_CREDENTIALS=new F("google-credentials-uid"),F.FIRST_PARTY=new F("first-party-uid"),F.MOCK_USER=new F("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let se="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt=new ys("@firebase/firestore");function $(l,...i){if(bt.logLevel<=nn.DEBUG){const r=i.map(rn);bt.debug(`Firestore (${se}): ${l}`,...r)}}function Ci(l,...i){if(bt.logLevel<=nn.ERROR){const r=i.map(rn);bt.error(`Firestore (${se}): ${l}`,...r)}}function Vs(l,...i){if(bt.logLevel<=nn.WARN){const r=i.map(rn);bt.warn(`Firestore (${se}): ${l}`,...r)}}function rn(l){if(typeof l=="string")return l;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(l)}catch{return l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(l,i,r){let a="Unexpected state";typeof i=="string"?a=i:r=i,Di(l,a,r)}function Di(l,i,r){let a=`FIRESTORE (${se}) INTERNAL ASSERTION FAILED: ${i} (ID: ${l.toString(16)})`;if(r!==void 0)try{a+=" CONTEXT: "+JSON.stringify(r)}catch{a+=" CONTEXT: "+r}throw Ci(a),new Error(a)}function te(l,i,r,a){let y="Unexpected state";typeof r=="string"?y=r:a=r,l||Di(i,y,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class S extends Es{constructor(i,r){super(i,r),this.code=i,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(){this.promise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(i,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class Us{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,r){i.enqueueRetryable(()=>r(F.UNAUTHENTICATED))}shutdown(){}}class Fs{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,r){this.changeListener=r,i.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Bs{constructor(i){this.t=i,this.currentUser=F.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,r){te(this.o===void 0,42304);let a=this.i;const y=R=>this.i!==a?(a=this.i,r(R)):Promise.resolve();let v=new ee;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new ee,i.enqueueRetryable(()=>y(this.currentUser))};const _=()=>{const R=v;i.enqueueRetryable(async()=>{await R.promise,await y(this.currentUser)})},E=R=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=R,this.o&&(this.auth.addAuthTokenListener(this.o),_())};this.t.onInit(R=>E(R)),setTimeout(()=>{if(!this.auth){const R=this.t.getImmediate({optional:!0});R?E(R):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new ee)}},0),_()}getToken(){const i=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==i?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(te(typeof a.accessToken=="string",31837,{l:a}),new Ni(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const i=this.auth&&this.auth.getUid();return te(i===null||typeof i=="string",2055,{h:i}),new F(i)}}class Gs{constructor(i,r,a){this.P=i,this.T=r,this.I=a,this.type="FirstParty",this.user=F.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const i=this.R();return i&&this.A.set("Authorization",i),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qs{constructor(i,r,a){this.P=i,this.T=r,this.I=a}getToken(){return Promise.resolve(new Gs(this.P,this.T,this.I))}start(i,r){i.enqueueRetryable(()=>r(F.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fi{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hs{constructor(i,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ws(i)&&i.settings.appCheckToken&&(this.p=i.settings.appCheckToken)}start(i,r){te(this.o===void 0,3512);const a=v=>{v.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${v.error.message}`);const _=v.token!==this.m;return this.m=v.token,$("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?r(v.token):Promise.resolve()};this.o=v=>{i.enqueueRetryable(()=>a(v))};const y=v=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=v,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(v=>y(v)),setTimeout(()=>{if(!this.appCheck){const v=this.V.getImmediate({optional:!0});v?y(v):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fi(this.p));const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(r=>r?(te(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new fi(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(l){const i=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(l);if(i&&typeof i.getRandomValues=="function")i.getRandomValues(r);else for(let a=0;a<l;a++)r[a]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{static newId(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const y=Xs(40);for(let v=0;v<y.length;++v)a.length<20&&y[v]<r&&(a+=i.charAt(y[v]%62))}return a}}function pt(l,i){return l<i?-1:l>i?1:0}function $s(l,i){const r=Math.min(l.length,i.length);for(let a=0;a<r;a++){const y=l.charAt(a),v=i.charAt(a);if(y!==v)return Ke(y)===Ke(v)?pt(y,v):Ke(y)?1:-1}return pt(l.length,i.length)}const Js=55296,Ws=57343;function Ke(l){const i=l.charCodeAt(0);return i>=Js&&i<=Ws}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="__name__";class K{constructor(i,r,a){r===void 0?r=0:r>i.length&&ie(637,{offset:r,range:i.length}),a===void 0?a=i.length-r:a>i.length-r&&ie(1746,{length:a,range:i.length-r}),this.segments=i,this.offset=r,this.len=a}get length(){return this.len}isEqual(i){return K.comparator(this,i)===0}child(i){const r=this.segments.slice(this.offset,this.limit());return i instanceof K?i.forEach(a=>{r.push(a)}):r.push(i),this.construct(r)}limit(){return this.offset+this.length}popFirst(i){return i=i===void 0?1:i,this.construct(this.segments,this.offset+i,this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return this.length===0}isPrefixOf(i){if(i.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==i.get(r))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==i.get(r))return!1;return!0}forEach(i){for(let r=this.offset,a=this.limit();r<a;r++)i(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,r){const a=Math.min(i.length,r.length);for(let y=0;y<a;y++){const v=K.compareSegments(i.get(y),r.get(y));if(v!==0)return v}return pt(i.length,r.length)}static compareSegments(i,r){const a=K.isNumericId(i),y=K.isNumericId(r);return a&&!y?-1:!a&&y?1:a&&y?K.extractNumericId(i).compare(K.extractNumericId(r)):$s(i,r)}static isNumericId(i){return i.startsWith("__id")&&i.endsWith("__")}static extractNumericId(i){return sn.fromString(i.substring(4,i.length-2))}}class z extends K{construct(i,r,a){return new z(i,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...i){const r=[];for(const a of i){if(a.indexOf("//")>=0)throw new S(I.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(y=>y.length>0))}return new z(r)}static emptyPath(){return new z([])}}const Ks=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends K{construct(i,r,a){return new At(i,r,a)}static isValidIdentifier(i){return Ks.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gi}static keyField(){return new At([gi])}static fromServerFormat(i){const r=[];let a="",y=0;const v=()=>{if(a.length===0)throw new S(I.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let _=!1;for(;y<i.length;){const E=i[y];if(E==="\\"){if(y+1===i.length)throw new S(I.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const R=i[y+1];if(R!=="\\"&&R!=="."&&R!=="`")throw new S(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);a+=R,y+=2}else E==="`"?(_=!_,y++):E!=="."||_?(a+=E,y++):(v(),y++)}if(v(),_)throw new S(I.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new At(r)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(i){this.path=i}static fromPath(i){return new Tt(z.fromString(i))}static fromName(i){return new Tt(z.fromString(i).popFirst(5))}static empty(){return new Tt(z.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return i!==null&&z.comparator(this.path,i.path)===0}toString(){return this.path.toString()}static comparator(i,r){return z.comparator(i.path,r.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new Tt(new z(i.slice()))}}function Ys(l,i,r,a){if(i===!0&&a===!0)throw new S(I.INVALID_ARGUMENT,`${l} and ${r} cannot be used together.`)}function Qs(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}function Zs(l){if(l===void 0)return"undefined";if(l===null)return"null";if(typeof l=="string")return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if(typeof l=="number"||typeof l=="boolean")return""+l;if(typeof l=="object"){if(l instanceof Array)return"an array";{const i=function(a){return a.constructor?a.constructor.name:null}(l);return i?`a custom ${i} object`:"an object"}}return typeof l=="function"?"a function":ie(12329,{type:typeof l})}function tr(l,i){if("_delegate"in l&&(l=l._delegate),!(l instanceof i)){if(i.name===l.constructor.name)throw new S(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Zs(l);throw new S(I.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${r}`)}}return l}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(l,i){const r={typeString:l};return i&&(r.value=i),r}function re(l,i){if(!Qs(l))throw new S(I.INVALID_ARGUMENT,"JSON must be an object");let r;for(const a in i)if(i[a]){const y=i[a].typeString,v="value"in i[a]?{value:i[a].value}:void 0;if(!(a in l)){r=`JSON missing required field: '${a}'`;break}const _=l[a];if(y&&typeof _!==y){r=`JSON field '${a}' must be a ${y}.`;break}if(v!==void 0&&_!==v.value){r=`Expected '${a}' field to equal '${v.value}'`;break}}if(r)throw new S(I.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=-62135596800,di=1e6;class Y{static now(){return Y.fromMillis(Date.now())}static fromDate(i){return Y.fromMillis(i.getTime())}static fromMillis(i){const r=Math.floor(i/1e3),a=Math.floor((i-1e3*r)*di);return new Y(r,a)}constructor(i,r){if(this.seconds=i,this.nanoseconds=r,r<0)throw new S(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new S(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(i<pi)throw new S(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new S(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/di}_compareTo(i){return this.seconds===i.seconds?pt(this.nanoseconds,i.nanoseconds):pt(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Y._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(i){if(re(i,Y._jsonSchema))return new Y(i.seconds,i.nanoseconds)}valueOf(){const i=this.seconds-pi;return String(i).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Y._jsonSchemaVersion="firestore/timestamp/1.0",Y._jsonSchema={type:O("string",Y._jsonSchemaVersion),seconds:O("number"),nanoseconds:O("number")};function er(l){return l.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(i){this.binaryString=i}static fromBase64String(i){const r=function(y){try{return atob(y)}catch(v){throw typeof DOMException<"u"&&v instanceof DOMException?new nr("Invalid base64 string: "+v):v}}(i);return new Pt(r)}static fromUint8Array(i){const r=function(y){let v="";for(let _=0;_<y.length;++_)v+=String.fromCharCode(y[_]);return v}(i);return new Pt(r)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let y=0;y<r.length;y++)a[y]=r.charCodeAt(y);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return pt(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const Qe="(default)";class Ee{constructor(i,r){this.projectId=i,this.database=r||Qe}static empty(){return new Ee("","")}get isDefaultDatabase(){return this.database===Qe}isEqual(i){return i instanceof Ee&&i.projectId===this.projectId&&i.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(i,r=null,a=[],y=[],v=null,_="F",E=null,R=null){this.path=i,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=y,this.limit=v,this.limitType=_,this.startAt=E,this.endAt=R,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sr(l){return new ir(l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mi,T;(T=mi||(mi={}))[T.OK=0]="OK",T[T.CANCELLED=1]="CANCELLED",T[T.UNKNOWN=2]="UNKNOWN",T[T.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",T[T.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",T[T.NOT_FOUND=5]="NOT_FOUND",T[T.ALREADY_EXISTS=6]="ALREADY_EXISTS",T[T.PERMISSION_DENIED=7]="PERMISSION_DENIED",T[T.UNAUTHENTICATED=16]="UNAUTHENTICATED",T[T.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",T[T.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",T[T.ABORTED=10]="ABORTED",T[T.OUT_OF_RANGE=11]="OUT_OF_RANGE",T[T.UNIMPLEMENTED=12]="UNIMPLEMENTED",T[T.INTERNAL=13]="INTERNAL",T[T.UNAVAILABLE=14]="UNAVAILABLE",T[T.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new sn([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=1048576;function Ye(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(i,r,a=1e3,y=1.5,v=6e4){this.Mi=i,this.timerId=r,this.d_=a,this.A_=y,this.R_=v,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(i){this.cancel();const r=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),y=Math.max(0,r-a);y>0&&$("ExponentialBackoff",`Backing off for ${y} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,y,()=>(this.f_=Date.now(),i())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(i,r,a,y,v){this.asyncQueue=i,this.timerId=r,this.targetTimeMs=a,this.op=y,this.removalCallback=v,this.deferred=new ee,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(i,r,a,y,v){const _=Date.now()+a,E=new on(i,r,_,y,v);return E.start(a),E}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new S(I.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var yi,_i;(_i=yi||(yi={})).Ma="default",_i.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(l){const i={};return l.timeoutSeconds!==void 0&&(i.timeoutSeconds=l.timeoutSeconds),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="firestore.googleapis.com",wi=!0;class Ei{constructor(i){if(i.host===void 0){if(i.ssl!==void 0)throw new S(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ki,this.ssl=wi}else this.host=i.host,this.ssl=i.ssl??wi;if(this.isUsingEmulator=i.emulatorOptions!==void 0,this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,this.localCache=i.localCache,i.cacheSizeBytes===void 0)this.cacheSizeBytes=rr;else{if(i.cacheSizeBytes!==-1&&i.cacheSizeBytes<or)throw new S(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}Ys("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:i.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lr(i.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new S(I.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new S(I.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new S(I.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!i.useFetchStreams}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&function(a,y){return a.timeoutSeconds===y.timeoutSeconds}(this.experimentalLongPollingOptions,i.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class Oi{constructor(i,r,a,y){this._authCredentials=i,this._appCheckCredentials=r,this._databaseId=a,this._app=y,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ei({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new S(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(i){if(this._settingsFrozen)throw new S(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ei(i),this._emulatorOptions=i.emulatorOptions||{},i.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new Us;switch(a.type){case"firstParty":return new qs(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new S(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=vi.get(r);a&&($("ComponentProvider","Removing Datastore"),vi.delete(r),a.terminate())}(this),Promise.resolve()}}function ur(l,i,r,a={}){var P;l=tr(l,Oi);const y=Ss(i),v=l._getSettings(),_={...v,emulatorOptions:l._getEmulatorOptions()},E=`${i}:${r}`;y&&(Ps(`https://${E}`),Rs("Firestore",!0)),v.host!==ki&&v.host!==E&&Vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const R={...v,host:E,ssl:y,emulatorOptions:a};if(!Cs(R,_)&&(l._setSettings(R),a.mockUserToken)){let x,C;if(typeof a.mockUserToken=="string")x=a.mockUserToken,C=F.MOCK_USER;else{x=Ds(a.mockUserToken,(P=l._app)==null?void 0:P.options.projectId);const nt=a.mockUserToken.sub||a.mockUserToken.user_id;if(!nt)throw new S(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new F(nt)}l._authCredentials=new Fs(new Ni(x,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(i,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=i}withConverter(i){return new hn(this.firestore,i,this._query)}}class Z{constructor(i,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ln(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new Z(this.firestore,i,this._key)}toJSON(){return{type:Z._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(i,r,a){if(re(r,Z._jsonSchema))return new Z(i,a||null,new Tt(z.fromString(r.referencePath)))}}Z._jsonSchemaVersion="firestore/documentReference/1.0",Z._jsonSchema={type:O("string",Z._jsonSchemaVersion),referencePath:O("string")};class ln extends hn{constructor(i,r,a){super(i,r,sr(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new Z(this.firestore,null,new Tt(i))}withConverter(i){return new ln(this.firestore,i,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="AsyncQueue";class Ti{constructor(i=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hr(this,"async_queue_retry"),this._c=()=>{const a=Ye();a&&$(Ai,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=i;const r=Ye();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.uc(),this.cc(i)}enterRestrictedMode(i){if(!this.ec){this.ec=!0,this.sc=i||!1;const r=Ye();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(i){if(this.uc(),this.ec)return new Promise(()=>{});const r=new ee;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(i().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.Xu.push(i),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(i){if(!er(i))throw i;$(Ai,"Operation failed with retryable error: "+i)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(i){const r=this.ac.then(()=>(this.rc=!0,i().catch(a=>{throw this.nc=a,this.rc=!1,Ci("INTERNAL UNHANDLED ERROR: ",Ii(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=r,r}enqueueAfterDelay(i,r,a){this.uc(),this.oc.indexOf(i)>-1&&(r=0);const y=on.createAndSchedule(this,i,r,a,v=>this.hc(v));return this.tc.push(y),y}uc(){this.nc&&ie(47125,{Pc:Ii(this.nc)})}verifyOperationInProgress(){}async Tc(){let i;do i=this.ac,await i;while(i!==this.ac)}Ic(i){for(const r of this.tc)if(r.timerId===i)return!0;return!1}Ec(i){return this.Tc().then(()=>{this.tc.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),i!=="all"&&r.timerId===i)break;return this.Tc()})}dc(i){this.oc.push(i)}hc(i){const r=this.tc.indexOf(i);this.tc.splice(r,1)}}function Ii(l){let i=l.message||"";return l.stack&&(i=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),i}class ar extends Oi{constructor(i,r,a,y){super(i,r,a,y),this.type="firestore",this._queue=new Ti,this._persistenceKey=(y==null?void 0:y.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const i=this._firestoreClient.terminate();this._queue=new Ti(i),this._firestoreClient=void 0,await i}}}function cr(l,i){const r=typeof l=="object"?l:As(),a=typeof l=="string"?l:Qe,y=Ts(r,"firestore").getImmediate({identifier:a});if(!y._initialized){const v=Is("firestore");v&&ur(y,...v)}return y}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(i){this._byteString=i}static fromBase64String(i){try{return new tt(Pt.fromBase64String(i))}catch(r){throw new S(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(i){return new tt(Pt.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}toJSON(){return{type:tt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(i){if(re(i,tt._jsonSchema))return tt.fromBase64String(i.bytes)}}tt._jsonSchemaVersion="firestore/bytes/1.0",tt._jsonSchema={type:O("string",tt._jsonSchemaVersion),bytes:O("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(...i){for(let r=0;r<i.length;++r)if(i[r].length===0)throw new S(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(i,r){if(!isFinite(i)||i<-90||i>90)throw new S(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(r)||r<-180||r>180)throw new S(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=i,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}_compareTo(i){return pt(this._lat,i._lat)||pt(this._long,i._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:It._jsonSchemaVersion}}static fromJSON(i){if(re(i,It._jsonSchema))return new It(i.latitude,i.longitude)}}It._jsonSchemaVersion="firestore/geoPoint/1.0",It._jsonSchema={type:O("string",It._jsonSchemaVersion),latitude:O("number"),longitude:O("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(i){this._values=(i||[]).map(r=>r)}toArray(){return this._values.map(i=>i)}isEqual(i){return function(a,y){if(a.length!==y.length)return!1;for(let v=0;v<a.length;++v)if(a[v]!==y[v])return!1;return!0}(this._values,i._values)}toJSON(){return{type:St._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(i){if(re(i,St._jsonSchema)){if(Array.isArray(i.vectorValues)&&i.vectorValues.every(r=>typeof r=="number"))return new St(i.vectorValues);throw new S(I.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}St._jsonSchemaVersion="firestore/vectorValue/1.0",St._jsonSchema={type:O("string",St._jsonSchemaVersion),vectorValues:O("object")};const fr=new RegExp("[~\\*/\\[\\]]");function gr(l,i,r){if(i.search(fr)>=0)throw Si(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,l);try{return new Li(...i.split("."))._internalPath}catch{throw Si(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l)}}function Si(l,i,r,a,y){let v=`Function ${i}() called with invalid data`;v+=". ";let _="";return new S(I.INVALID_ARGUMENT,v+l+_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(i,r,a,y,v){this._firestore=i,this._userDataWriter=r,this._key=a,this._document=y,this._converter=v}get id(){return this._key.path.lastSegment()}get ref(){return new Z(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const i=new pr(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const r=this._document.data.field(Mi("DocumentSnapshot.get",i));if(r!==null)return this._userDataWriter.convertValue(r)}}}class pr extends ji{data(){return super.data()}}function Mi(l,i){return typeof i=="string"?gr(l,i):i instanceof Li?i._internalPath:i._delegate._internalPath}class ve{constructor(i,r){this.hasPendingWrites=i,this.fromCache=r}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class xt extends ji{constructor(i,r,a,y,v,_){super(i,r,a,y,_),this._firestore=i,this._firestoreImpl=i,this.metadata=v}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const r=new we(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,r={}){if(this._document){const a=this._document.data.field(Mi("DocumentSnapshot.get",i));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new S(I.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const i=this._document,r={};return r.type=xt._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!i||!i.isValidDocument()||!i.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(i.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}xt._jsonSchemaVersion="firestore/documentSnapshot/1.0",xt._jsonSchema={type:O("string",xt._jsonSchemaVersion),bundleSource:O("string","DocumentSnapshot"),bundleName:O("string"),bundle:O("string")};class we extends xt{data(i={}){return super.data(i)}}class ne{constructor(i,r,a,y){this._firestore=i,this._userDataWriter=r,this._snapshot=y,this.metadata=new ve(y.hasPendingWrites,y.fromCache),this.query=a}get docs(){const i=[];return this.forEach(r=>i.push(r)),i}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(i,r){this._snapshot.docs.forEach(a=>{i.call(r,new we(this._firestore,this._userDataWriter,a.key,a,new ve(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const r=!!i.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new S(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(y,v){if(y._snapshot.oldDocs.isEmpty()){let _=0;return y._snapshot.docChanges.map(E=>{const R=new we(y._firestore,y._userDataWriter,E.doc.key,E.doc,new ve(y._snapshot.mutatedKeys.has(E.doc.key),y._snapshot.fromCache),y.query.converter);return E.doc,{type:"added",doc:R,oldIndex:-1,newIndex:_++}})}{let _=y._snapshot.oldDocs;return y._snapshot.docChanges.filter(E=>v||E.type!==3).map(E=>{const R=new we(y._firestore,y._userDataWriter,E.doc.key,E.doc,new ve(y._snapshot.mutatedKeys.has(E.doc.key),y._snapshot.fromCache),y.query.converter);let P=-1,x=-1;return E.type!==0&&(P=_.indexOf(E.doc.key),_=_.delete(E.doc.key)),E.type!==1&&(_=_.add(E.doc),x=_.indexOf(E.doc.key)),{type:dr(E.type),doc:R,oldIndex:P,newIndex:x}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new S(I.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const i={};i.type=ne._jsonSchemaVersion,i.bundleSource="QuerySnapshot",i.bundleName=zs.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],a=[],y=[];return this.docs.forEach(v=>{v._document!==null&&(r.push(v._document),a.push(this._userDataWriter.convertObjectMap(v._document.data.value.mapValue.fields,"previous")),y.push(v.ref.path))}),i.bundle=(this._firestore,this.query._query,i.bundleName,"NOT SUPPORTED"),i}}function dr(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:l})}}ne._jsonSchemaVersion="firestore/querySnapshot/1.0",ne._jsonSchema={type:O("string",ne._jsonSchemaVersion),bundleSource:O("string","QuerySnapshot"),bundleName:O("string"),bundle:O("string")};(function(i,r=!0){(function(y){se=y})(Ns),_s(new vs("firestore",(a,{instanceIdentifier:y,options:v})=>{const _=a.getProvider("app").getImmediate(),E=new ar(new Bs(a.getProvider("auth-internal")),new Hs(_,a.getProvider("app-check-internal")),function(P,x){if(!Object.prototype.hasOwnProperty.apply(P.options,["projectId"]))throw new S(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ee(P.options.projectId,x)}(_,y),_);return v={useFetchStreams:r,...v},E._setSettings(v),E},"PUBLIC").setMultipleInstances(!0)),li(ai,ci,i),li(ai,ci,"esm2020")})();const mr={apiKey:"AIzaSyDznqrm2kJfKQXxWpgHWwk-msXH89OEgTo",authDomain:"banco-vc.firebaseapp.com",projectId:"banco-vc",storageBucket:"banco-vc.firebasestorage.app",messagingSenderId:"858410245985",appId:"1:858410245985:web:56fae7da4c145c30a32f20",measurementId:"G-4E7K9TY3B7"},xi=ks(mr),Te=Os(xi);cr(xi);const Ae=document.getElementById("auth-mode"),Pi=document.getElementById("token-section"),Ri=document.getElementById("login-section"),Ze=document.getElementById("teamId"),tn=document.getElementById("memberId"),Mt=document.getElementById("save-token"),ct=document.getElementById("status-token"),wt=document.getElementById("email"),Et=document.getElementById("password"),Q=document.getElementById("login-email"),ft=document.getElementById("login-google"),gt=document.getElementById("logout"),et=document.getElementById("status-auth");function en(l){l==="token"?(Pi.classList.remove("hidden"),Ri.classList.add("hidden")):(Pi.classList.add("hidden"),Ri.classList.remove("hidden"))}Ae&&Ae.addEventListener("change",l=>{en(l.target.value)});document.addEventListener("DOMContentLoaded",()=>{chrome.storage.sync.get(["nexusTeamId","nexusMemberId","authMode"],l=>{l.nexusTeamId&&Ze&&(Ze.value=l.nexusTeamId),l.nexusMemberId&&tn&&(tn.value=l.nexusMemberId),l.authMode&&(l.authMode==="login"||l.authMode==="token")?(Ae&&(Ae.value=l.authMode),en(l.authMode)):en("token")})});Mt&&Mt.addEventListener("click",async()=>{const l=Ze.value.trim(),i=tn.value.trim();if(!l||!i){ct.textContent="Preencha todos os campos.",ct.style.color="red";return}Mt.textContent="Salvando...",Mt.disabled=!0;try{await chrome.storage.sync.set({nexusTeamId:l,nexusMemberId:i,authMode:"token"}),ct.textContent="Salvo com sucesso!",ct.style.color="green",chrome.runtime.sendMessage({type:"CONFIG_UPDATED"}).catch(()=>{console.log("Background inativo no momento, mas a configurao foi salva no disco.")})}catch(r){console.error(r),ct.textContent="Erro ao salvar.",ct.style.color="red"}finally{Mt.textContent="Salvar Token",Mt.disabled=!1,setTimeout(()=>{ct.style.color==="green"&&(ct.textContent="")},3e3)}});Q&&Q.addEventListener("click",async()=>{try{Q.textContent="...",await Ls(Te,wt.value,Et.value)}catch(l){et.textContent="Erro: "+l.code,et.style.color="red",Q.textContent="Entrar com Email"}});ft&&ft.addEventListener("click",async()=>{try{const l=new js;await Ms(Te,l)}catch(l){console.error(l),et.textContent="Erro Google. Tente fechar e abrir.",et.style.color="red"}});gt&&gt.addEventListener("click",()=>xs(Te));bs(Te,l=>{l?(et&&(et.textContent=`Logado: ${l.email}`,et.style.color="green"),Q==null||Q.classList.add("hidden"),ft==null||ft.classList.add("hidden"),wt==null||wt.classList.add("hidden"),Et==null||Et.classList.add("hidden"),gt==null||gt.classList.remove("hidden"),chrome.storage.sync.set({authMode:"login"})):(et&&(et.textContent=""),Q==null||Q.classList.remove("hidden"),ft==null||ft.classList.remove("hidden"),wt==null||wt.classList.remove("hidden"),Et==null||Et.classList.remove("hidden"),gt==null||gt.classList.add("hidden"))});
